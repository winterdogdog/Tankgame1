<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
</head>
<body onkeydown="getCommand()">
<h1>html5经典坦克大战</h1>
<!--tank 大战的战场-->
<canvas id = "TankMap" width = "400px" height="300px" style = "background-color:black"></canvas>
<span id="aa">数据</span>
<script type = "text/javascript" src = "TankGame1.js"></script>
<script type = "text/javascript">

    //使用前面的绘图技术
    var canvas1 = document.getElementById("TankMap");
    var cxt = canvas1.getContext("2d");
    //0表示会上 1表示右 2表示下 3表示左
    var hero = new Hero(40,40,0,heroColor);
    var heroBullets=new Array();
    heroBullet = null;
    //var heroX = 130;
    //var heroY = 30;
    //把绘制坦克封装成一个函数
    //这个函数既可以画友方坦克，也可以玩敌方的
    //定义地方坦克


    var enemyTanks = new Array();
    for(i = 0;i<3;i++)
    {
        var enemyTank;
        enemyTank = new EnemyTank((i + 1) * 50, 0, 2,enemyTankColor);
        enemyTanks[i] =enemyTank;

    }
    //专门写一个函数用于刷新画布作战区，
        flashTankMap();
    function flashTankMap() {
        cxt.clearRect(0,0,400,300);
        drawTank(hero);
        drawHeroBullet();
        for(var i=0;i<3;i++){
            drawTank(enemyTanks[i]);
        }
    }

    function getCommand() {
        var code = event.keyCode;//对应字母的ASCII码
        switch (code){
            case 87:hero.moveUP();break;
            case 68:hero.moveRight();break;
            case 83:hero.moveDown();break;
            case 65:hero.moveLeft();break;
            case 74:hero.shotEnemy();break;
        }
        flashTankMap();

    }
    window.setInterval("flashTankMap()",100);
</script>
</body>
</html>